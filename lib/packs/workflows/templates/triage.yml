# Generated by oss-doctor.
# You can edit this file; oss-doctor won't overwrite without --force.

name: Triage

on:
    issues:
        types: [opened]
    pull_request:
        types: [opened]

permissions:
    issues: write
    pull-requests: write

jobs:
    triage:
        runs-on: ubuntu-latest
        steps:
            - name: Label new issues
              if: github.event_name == 'issues'
              uses: actions/github-script@v7
              with:
                  script: |
                      const issue = context.payload.issue;
                      const labels = [];

                      // Auto-label based on template
                      if (issue.body && issue.body.includes('Bug report')) {
                          labels.push('bug');
                      }
                      if (issue.body && issue.body.includes('Feature request')) {
                          labels.push('enhancement');
                      }
                      if (issue.body && issue.body.includes('Question')) {
                          labels.push('question');
                      }

                      if (labels.length > 0) {
                          await github.rest.issues.addLabels({
                              owner: context.repo.owner,
                              repo: context.repo.repo,
                              issue_number: issue.number,
                              labels: labels
                          });
                      }
